import base64
import requests
import subprocess
import json

def get_signed_uri(giornata, season_id=18):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/117.0',
        'Accept': '*/*',
        'Accept-Language': 'en-GB,en;q=0.5',
        # 'Accept-Encoding': 'gzip, deflate, br',
        'Content-Type': 'application/json',
        'Origin': 'https://www.fantacalcio.it',
        'DNT': '1',
        'Connection': 'keep-alive',
        'Sec-Fetch-Dest': 'empty',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Site': 'same-origin',
        # Requests doesn't support trailers
        # 'TE': 'trailers',
    }

    uri = f'https://api.fantacalcio.it/v1/st/{season_id}/matches/live/{giornata}.dat'
    json_data = {
        'resourcesUri': [
            uri,
        ],
    }

    response = requests.post('https://www.fantacalcio.it/api/v1/SignedUri', headers=headers, json=json_data)
    
    if response.status_code == 200:
        return response.json()[uri]['resources'][0]['signedUri']


def get_protobuf_message_b64(signed_uri):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/117.0',
        'Accept': '*/*',
        'Accept-Language': 'en-GB,en;q=0.5',
        # 'Accept-Encoding': 'gzip, deflate, br',
        'Referer': 'https://www.fantacalcio.it/',
        'Content-Type': 'application/json',
        'Origin': 'https://www.fantacalcio.it',
        'DNT': '1',
        'Connection': 'keep-alive',
        'Sec-Fetch-Dest': 'empty',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Site': 'same-site',
        # 'If-Modified-Since': 'Sun, 17 Sep 2023 16:54:15 GMT',
        # 'If-None-Match': 'W/"b09a890c5491cfcca3ecb5efb0533713"',
        'Cache-Control': 'max-age=0',
        # Requests doesn't support trailers
        # 'TE': 'trailers',
    }

    params = {}

    response = requests.get(signed_uri, params=params, headers=headers)

    return str(base64.b64encode(response.content))


def decode_protobuf_live_msg(encoded_msg):
    p = subprocess.Popen(['node', 'decode_livemessage_pb.js', encoded_msg], stdout=subprocess.PIPE)
    out = p.stdout.read()
    return json.loads(out.decode())


def get_voti(data_json, codice_squadra):
    matches = data_json['protoData']
    for match in matches:
        if match['teamIdHome'] == codice_squadra:
            return match['playersHome']
        elif match['teamIdAway'] == codice_squadra:
            return match['playersAway']
    return dict()


if __name__ == "__main__":
    #data_b64 = get_protobuf_message_b64(get_signed_uri(4,18))
    #print(data_b64)
    encoded = "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"
    data = decode_protobuf_live_msg(encoded)
    print(data)